@startuml

skinparam {
    NoteBackgroundColor #whiteSmoke
}

state 7 as ":PROJECT_MANAGEMENT" #LawnGreen
state INIT_PROJECT as ":INIT_PROJECT"

state PlanProject {
    state 1 as " " #LawnGreen
    state 2 as " " #LawnGreen
    state 3 <<choice>>
    state 4 as " " #LawnGreen
    state 5 as " " #LawnGreen
    state 6 as " " #LawnGreen
    state 9 as " "
}

[*] --> 1
note on link
    User requests to plan project
end note
1 --> 2
note on link

<b>System allows</b>
* introduce
** start project date
** end project date
**  project cost
* cancel
end note

1 --> 9
note on link
    User orders to cancel
end note

2 --> 3
note on link
    User introduces
    * start date
    * end date
    * project cost
    and orders continue
end note

3 --> 1
note on link
    [end date before start date
    OR start date after end date
    OR cost <= 0
    OR start end date interval < 10 days]
end note

3 --> 4

4 --> 5
note on link
    <b>System shows</b>
    * nº iterations in project (10 iterations by default)
    * iteration duration (in days)
    * each phase start end dates
    <b>System allows</b>
    * change nº iteration in project
    **[ +/- 10 iterations ]
    **[ minimum 10 iteration in project ]
    **[ maximum iterations as the nº iterations (10 days duration) that not exceeds project end date ]
    **[ minimum iteration duration 10 days]
    * confirm planned project
    * cancel
end note

5 --> 9
note on link
    User orders to cancel
end note

5 --> 4
note on link
    User introduces
    * new nº of iterations
    and orders re-plan
end note

5 --> 6
note on link
    User orders confirm planned project
end note

6 --> 7
note on link
    System shows
    * the project was successfully planned
    * project information
    ** name
    ** start date
    ** end date
    ** duration (business days)
    ** progress (business days)
    ** iteration duration (business days)
    System allows
    * Open phases
    * Open iterations
    * Open iteration [if __iterations opened__]
    * Open members
    * Open usecases
    * close system
end note

9 --> INIT_PROJECT
note on link
    <b>System allows</b>
    * plan project
    * open project
end note

@enduml
