@startuml

skinparam {
    NoteBackgroundColor #whiteSmoke
}

state PROJECT_MANAGEMENTEND as ":PROJECT_MANAGEMENT" #LawnGreen
state INIT_PROJECTSTART as ":INIT_PROJECT"
state INIT_PROJECTEND as ":INIT_PROJECT"

INIT_PROJECTSTART --> PlanProject
note on link
    User requests to plan project
end note

state PlanProject {
    state 1 as " " #LawnGreen
    state 2 as " " #LawnGreen
    state 3 <<choice>>
    state 4 as " " #LawnGreen
    state 5 as " " #LawnGreen
    state 6 as " " #LawnGreen
    state 10 as " "

    [*] --> 1

    1 --> 2
    note on link
    <b>System requires</b>
    * start project date
    * end project date
    * project cost
    <b>System allows</b>
    * confirm step
    * cancel
    end note

    2 --> 10
    note on link
        User requests to cancel
    end note

    2 --> 3
    note on link
        User introduces
        * start date
        * end date
        * project cost
        and requests to confirm step
    end note

    3 --> 1
    note on link
        [end date before start date
        OR start date after end date
        OR cost <= 0
        OR start end date interval < 10 days]
    end note

    3 --> 4

    4 --> 5
    note on link
        <b>System shows</b>
        * nº iterations in project (10 iterations by default)
        * iteration duration (in days)
        * each phase start end dates
        <b>System allows</b>
        * change nº iteration in project
        **[ +/- 10 iterations ]
        **[ minimum 10 iteration in project ]
        **[ maximum iterations as the nº iterations (10 days duration) that not exceeds project end date ]
        **[ minimum iteration duration 10 days]
        * confirm planned project
        * cancel
    end note

    5 --> 10
    note on link
        User requests to cancel
    end note

    10 --> [*]


    5 --> 4
    note on link
        User introduces nº of iterations in project
    end note

    5 --> 6
    note on link
        User requests to confirm planned project
    end note

    6 --> [*]

}

PlanProject --> PROJECT_MANAGEMENTEND
note on link
        <b>System shows</b>
        * the project was successfully planned
        * project information
        ** start date
        ** end date
        ** duration (business days)
        ** progress (business days)
        ** iteration duration (business days)
        <b>System allows</b>
        * Open phases
        * Open iterations
        * Open iteration [if __iterations opened__]
        * Open members
        * Open usecases
        * close system
    end note


PlanProject --> INIT_PROJECTEND
note on link
(from user cancel)

<b>System allows</b>
* plan project
* open phases
end note

@enduml
