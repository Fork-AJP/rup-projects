@startuml

skinparam {
    NoteBackgroundColor #whiteSmoke
}

    state 2 as " "
    state 0 as " "
    state 4 as " "
    state 6 as " "
    state 8 as " "
    state 10 as " "
    state 5 as ":OPENED_ITERATION"
    state 13 as ":OPENED_ITERATION"

    5 --> 6
    note on link
        User orders re estimate NotAssignedActivity
    end note

    6 --> 2
    note on link
    <b>System shows</b>
    * for each discipline (requirements, analysis, design, implementation)
    ** NotAssignedActivities
    <b>System allows</b>
    * introduce NotAssignedActivity to re-estimate and order confirm
    * cancel re-estimate activity
    end note

    2 --> 10
    note on link
        User orders cancel re-estimate
    end note

    2 --> 4
    note on link
        * User introduces NotAssignedActivity to re-estimate
        * and orders confirm
    end note

    4 --> 0
    note on link
        <b>System shows</b>
        * NotAssignedCost
        ** total available cost (hours)
        * NotAssignedActivity
        ** duration (hours)
        <b>System allows</b>
        * introduce NotAssignedActivity duration (max as NotAssignedCost total available cost) and order confirm
        * cancel re-estimate
    end note

    0 --> 10
    note on link
        User orders cancel re-estimate
    end note

    0 --> 8
    note on link
        User introduces NotAssignedActivity duration and orders confirm
    end note

    10 --> 13
    note on link
         <b>System shows</b>
         * __re-estimate activity was cancelled__
         * for each member
         **assignedActivities in his datetime until end of current iteration
         * for each discipline (requirements, analysis, design, implementation)
         ** NotAssignedCost
         ** NotAssignedActivities (with activity type)
         <b>System allows</b>
         * Split activity
         * Assign activity
         * Re-estimate activity
         * Merge activity
         * Open project
         * Open members
         * Close system
    end note

    8 --> 13
    note on link
        <b>System shows</b>
        * __NotAssignedCost re-estimate successful__
        * for each member
        **assignedActivities in his datetime until end of current iteration
        * for each discipline (requirements, analysis, design, implementation)
        ** NotAssignedCost
        ** NotAssignedActivities (with activity type)
        <b>System allows</b>
        * Split activity
        * Assign activity
        * Re-estimate activity
        * Merge activity
        * Open project
        * Open members
        * Close system
    end note

@enduml
